<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Cases for Tendermint</title><meta name="description" content="Why you should build on Tendermint, and whether to use the EVM. By Jae Kwon"><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Cases for Tendermint</h1>
</header>
<section data-field="subtitle" class="p-summary">
Why you should build on Tendermint, and whether to use the EVM. By Jae Kwon
</section>
<section data-field="body" class="e-content">
<section name="65ef" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="ee50" id="ee50" class="graf graf--h3 graf--leading graf--title">Cases for Tendermint</h3><h4 name="c6c5" id="c6c5" class="graf graf--h4 graf-after--h3 graf--subtitle">Why you should build on Tendermint, and whether to use the EVM. By <a href="https://medium.com/u/c010ef5a0ddf" data-href="https://medium.com/u/c010ef5a0ddf" data-anchor-type="2" data-user-id="c010ef5a0ddf" data-action-value="c010ef5a0ddf" data-action="show-user-card" data-action-type="hover" class="markup--user markup--h4-user" target="_blank">Jae Kwon</a></h4><p name="434b" id="434b" class="graf graf--p graf-after--h4">You may have an application that benefits from blockchain technology, and you may be trying to figure out whether to build that on Bitcoin, some meta-coin protocol like Counterparty, with Solidity/Serpent on the Ethereum virtual machine, or on a new blockchain stack altogether. Actually, you should seriously consider building on Tendermint.</p><h3 name="b38e" id="b38e" class="graf graf--h3 graf-after--p">A little background on Tendermint</h3><p name="f4ee" id="f4ee" class="graf graf--p graf-after--h3">Tendermint is not a fork of Bitcoin, NXT, Ripple, or Ethereum. Tendermint is its own blockchain stack written from the ground up. It was built to be the base blockchain stack from which to fork off of for a wide variety of decentralized applications. It started back in 2014 as an ambitious project to solve the Bitcoin mining problem and bring real Byzantine fault-tolerant consensus to cryptocurrencies. First we adapted an existing BGA consensus algorithm to make it suitable for blockchains. For the actual implementation we considered forking Bitcoin, NXT, BitShares, and other projects, but none could easily accommodate the desired project architecture. So, a brand spanking new blockchain stack was born.</p><p name="bb0b" id="bb0b" class="graf graf--p graf-after--p">Tendermint offers:</p><ul class="postList"><li name="3bbe" id="3bbe" class="graf graf--li graf-after--p">Byzantine fault-tolerant consensus with unparalleled speed and security guarantees — without mining. <a href="https://tendermint.com/docs/internals/consensus" data-href="https://tendermint.com/docs/internals/consensus" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">(see spec)</a></li><li name="0446" id="0446" class="graf graf--li graf-after--li">A very clean codebase with clear separation of concerns — no spaghetti, thanks Golang!</li><li name="53c7" id="53c7" class="graf graf--li graf-after--li">Throttled/fair P2P stack to handle multiplexed channels of communication.</li><li name="6b02" id="6b02" class="graf graf--li graf-after--li">Clear P2P logic with the <a href="https://en.wikipedia.org/wiki/Reactor_pattern" data-href="https://en.wikipedia.org/wiki/Reactor_pattern" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">reactor pattern</a></li></ul><p name="8fc8" id="8fc8" class="graf graf--p graf-after--li">On top of this foundation, we’ve built more advanced blockchain features.</p><ul class="postList"><li name="36c0" id="36c0" class="graf graf--li graf-after--p">A compatible and efficient Ethereum VM implementation</li><li name="79a6" id="79a6" class="graf graf--li graf-after--li">A permissions system that works across accounts and VM contracts</li></ul><p name="fa6d" id="fa6d" class="graf graf--p graf-after--li">We’re going to build more exciting features going forward, except this time we’ll blog about it while we do it, so hang on to your metaphorical horses.</p><h3 name="e31d" id="e31d" class="graf graf--h3 graf-after--p">On Tendermint consensus</h3><p name="6d1a" id="6d1a" class="graf graf--p graf-after--h3">The consensus system is the foundational layer of any blockchain stack. It is the process by which all of the transaction validators (equivalent to miners in Bitcoin) agree on the state of the network. Improvements in speed, security, and cost of a consensus system ripple up and improve the performance of any network or application built on top of it. Let’s dive into some examples to get a sense of how it works.</p><h3 name="b639" id="b639" class="graf graf--h3 graf-after--p">Case 1: Payment verification</h3><p name="60bb" id="60bb" class="graf graf--p graf-after--h3">Say that your mobile phone is connected to untrusted wifi, and you’re making a business deal with Satoshi. Satoshi just sent you a large payment, and you need to verify that this payment was committed onto the blockchain network irreversibly.</p><p name="755b" id="755b" class="graf graf--p graf-after--p">With Bitcoin, you generally need to wait up to 6 confirmation blocks (about 1 hour, sometimes longer) to consider a transaction fully committed. For very large payment transactions you should wait even longer, because the security afforded by the blockchain miners is no greater than the cost of double-spending that transaction, which is today only about 25 Bitcoins per reverted block, and soon to be half of that.</p><p name="534c" id="534c" class="graf graf--p graf-after--p">With Tendermint, a global network of 1000 independent validators can commit a transaction in less than 60 seconds. The time required to commit only gets shorter with increased bandwidth and computational capacity of the nodes of the network. In the near future we’ll be able to commit transactions on a global Tendermint blockchain with more than 1000 validators in a matter of seconds — the only real limitation is the time it takes for light to travel around the globe.</p><h3 name="b643" id="b643" class="graf graf--h3 graf-after--p">Case 2: Name registry lookup</h3><p name="3f85" id="3f85" class="graf graf--p graf-after--h3">Similar to case 1, but instead of verifying a payment, you need to verify Satoshi’s public key as registered under the name “@satoshi” on a name-registry blockchain. The difference here as compared to case 1 is that instead of verifying a new transaction, you’re verifying the current value of a pre-registered key that may have been changed by other transactions.</p><p name="1db1" id="1db1" class="graf graf--p graf-after--p">With Bitcoin (and Namecoin), you can verify that “@satoshi” was registered with a particular public key at some point in the past, but you wouldn’t know whether the public key had since been updated without downloading the whole blockchain. This is because the presence of a name-registration transaction in the blockchain does not imply that later transactions hadn’t updated the value for that key. In order for you to efficiently check for the current value of a name, the blockchain should support a balanced Merkle tree on the most recent name-registry state. Even if Bitcoin/Namecoin did support such a data structure, you would still have to download and verify all the blockchain hashes and headers, and if the value might have been updated recently you’re still vulnerable to a fork-censorship attack.</p><p name="7cfe" id="7cfe" class="graf graf--p graf-after--p">With Tendermint, all you need is the most recent blockhash signed by more than 2/3 of the validators, and a Merkle proof that proves the current value associated with the name “@satoshi”. You don’t even need to wait for a single commit. If you’re interested, see <a href="https://github.com/tendermint/tendermint/wiki/Merkle-Trees#iavl-tree" data-href="https://github.com/tendermint/tendermint/wiki/Merkle-Trees#iavl-tree" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">this link</a> for more information on our balanced binary Merkle tree implementation.</p><p name="8623" id="8623" class="graf graf--p graf-after--p">In future posts I’ll go into detail about the consensus algorithm and how it can provide these unique speed &amp; security guarantees without proof-of-work mining. For now, you can check the most recent Tendermint spec on the <a href="https://tendermint.com/docs" data-href="https://tendermint.com/docs" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Documentation</a> page.</p><h3 name="200f" id="200f" class="graf graf--h3 graf-after--p">Tendermint architecture</h3><figure name="7876" id="7876" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 316px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 45.1%;"></div><img class="graf-image" data-image-id="1*4ltaoZRXgTWOiQJEHqSnyg.png" data-width="984" data-height="444" src="https://cdn-images-1.medium.com/max/800/1*4ltaoZRXgTWOiQJEHqSnyg.png"></div></figure><p name="9d58" id="9d58" class="graf graf--p graf-after--figure">The diagram above is meant to show that:</p><ul class="postList"><li name="d87f" id="d87f" class="graf graf--li graf-after--p">the consensus and transaction-execution (aka state-transition) modules are separate except for the shared (immutable/Merkle-ized) state.</li><li name="b2b3" id="b2b3" class="graf graf--li graf-after--li">the consensus module takes a block, a commit for the block, and the last state, and uses the transaction-execution module to produce the next state.</li><li name="97ce" id="97ce" class="graf graf--li graf-after--li">the VM call transaction is one of many transaction types offered by the transaction-execution module.</li><li name="3ea8" id="3ea8" class="graf graf--li graf-after--li">the Ethereum VM (EVM) is only one of potentially many supported virtual machines.</li></ul><p name="1e6b" id="1e6b" class="graf graf--p graf-after--li">If you have a blockchain application in mind, on Tendermint there are two options to consider — a smart contract on the Ethereum VM (and in the future, other VMs as well), or, a native transaction type (like SendTx or NameTx above).</p><h3 name="9ab5" id="9ab5" class="graf graf--h3 graf-after--p">Whether to develop a VM smart contract or develop a native Tendermint contract</h3><p name="ec3d" id="ec3d" class="graf graf--p graf-after--h3">The main benefit of a Turing-complete VM on a blockchain is that anyone can upload new contract logic onto the blockchain. This is especially true on big-bad-public-blockchains (BBPB) like Bitcoin or Ethereum which were designed to allow anyone to upload new contract logic. On the other hand, private blockchains and consortium blockchains that are more tightly managed may not need or even want arbitrary user-defined logic.</p><p name="e05c" id="e05c" class="graf graf--p graf-after--p">Sometimes, writing an EVM contract is the right answer. Use the EVM if you need to deploy the contract on a public blockchain such as Ethereum. Use the EVM if you don’t have systems programming experience, and you find that writing a solidity contract is easier than writing in Golang. Use the EVM if your contract-logic is simple enough that you wouldn’t mind stepping over bytecode execution to debug your contract.</p><p name="30ad" id="30ad" class="graf graf--p graf-after--p">For other applications where the former exceptions don’t apply, you probably want to write native code on Tendermint for a variety of reasons — Golang’s language tooling is better so debugging is easier, it’s computationally more efficient by far, and it removes two complex layers (one for the bytecode compiled language, and one for the VM itself). If you want full control over your Merkle-ized data structures (e.g. without the 32-by-32-byte restriction of the EVM’s Patricia-trie) then you have to write your contract logic at the native level. Tendermint provides you with the right tools to make this as easy as possible.</p><h3 name="addf" id="addf" class="graf graf--h3 graf-after--p">Fin</h3><p name="306e" id="306e" class="graf graf--p graf-after--h3 graf--trailing">* Check out the <a href="https://tendermint.com/docs" data-href="https://tendermint.com/docs" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Tendermint documentation</a>.<br>* Start developing on Tendermint with the <a href="https://tendermint.com/download" data-href="https://tendermint.com/download" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Getting Started</a> guide.<br>* <a href="http://forum.tendermint.com:3000/" data-href="http://forum.tendermint.com:3000/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Join</a> our Slack channel.</p></div></div></section><section name="b214" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="df6b" id="df6b" class="graf graf--p graf--leading graf--trailing"><em class="markup--em markup--p-em">Originally published at </em><a href="https://gist.github.com/35f953d2974c904269ae929cafbc5e4f" data-href="https://gist.github.com/35f953d2974c904269ae929cafbc5e4f" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><em class="markup--em markup--p-em">gist.github.com</em></a><em class="markup--em markup--p-em">.</em></p></div></div></section>
</section>
<footer><p class="p-tags">Tagged in <a href="https://medium.com/tag/blockchain" class="p-tag">Blockchain</a>, <a href="https://medium.com/tag/tendermint" class="p-tag">Tendermint</a>, <a href="https://medium.com/tag/bitcoin" class="p-tag">Bitcoin</a>, <a href="https://medium.com/tag/ethereum" class="p-tag">Ethereum</a>, <a href="https://medium.com/tag/consensus" class="p-tag">Consensus</a></p><p>By <a href="https://medium.com/@nylira" class="p-author h-card">Peng Zhong</a> on <a href="https://medium.com/p/846112e12c61"><time class="dt-published" datetime="2015-09-13T07:00:00.000Z">September 13, 2015</time></a>.</p><p><a href="https://medium.com/@nylira/cases-for-tendermint-846112e12c61" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on April 23, 2018.</p></footer></article>

</body></html>