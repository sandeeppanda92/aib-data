<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Get your cryptocurrency up and running in 10 minutes</title><meta name="description" content="So, your Tendermint application is finally ready and you want to distribute it and run it on several machines. By Anton Kaliaev"><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Get your cryptocurrency up and running in 10 minutes</h1>
</header>
<section data-field="subtitle" class="p-summary">
So, your Tendermint application is finally ready and you want to distribute it and run it on several machines. By Anton Kaliaev
</section>
<section data-field="body" class="e-content">
<section name="6f34" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="abdb" id="abdb" class="graf graf--h3 graf--leading graf--title">Get your cryptocurrency up and running in 10 minutes</h3><h4 name="aad8" id="aad8" class="graf graf--h4 graf-after--h3 graf--subtitle">So, your Tendermint application is finally ready and you want to distribute it and run it on several machines. By <a href="https://twitter.com/akaliaev" data-href="https://twitter.com/akaliaev" class="markup--anchor markup--h4-anchor" rel="noopener" target="_blank">Anton Kaliaev</a></h4><p name="339b" id="339b" class="graf graf--p graf-after--h4">So, your Tendermint application is finally ready and you want to distribute it and run it on several machines, or just run it locally by creating a dozen Docker containers. We have created <a href="https://github.com/tendermint/tools/tree/master/mintnet-kubernetes" data-href="https://github.com/tendermint/tools/tree/master/mintnet-kubernetes" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">mintnet-kubernetes</a> to help you achieve this goal as fast as possible. Note that it should be primarily used for testing purposes or for tightly-defined chains operated by a single stakeholder (see <a href="https://github.com/tendermint/tools/tree/master/mintnet-kubernetes#security" data-href="https://github.com/tendermint/tools/tree/master/mintnet-kubernetes#security" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">the security precautions</a>). If you want to launch an application with many stakeholders, consider using <a href="https://github.com/tendermint/tools/tree/master/ansible-tendermint" data-href="https://github.com/tendermint/tools/tree/master/ansible-tendermint" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">our set of Ansible</a> scripts to deploy Tendermint.</p><p name="2102" id="2102" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">mintnet-kubernetes</code> is a configuration file for <a href="https://kubernetes.io/" data-href="https://kubernetes.io/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Kubernetes</a>.</p><p name="75b3" id="75b3" class="graf graf--p graf-after--p"><em class="markup--em markup--p-em">Kubernetes is an open-source system for automating deployment, scaling, and management of containerized applications.</em></p><p name="cf22" id="cf22" class="graf graf--p graf-after--p">If you had never heard of it, it won’t hurt to read <a href="https://kubernetes.io/docs/concepts/overview/what-is-kubernetes/" data-href="https://kubernetes.io/docs/concepts/overview/what-is-kubernetes/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">What is Kubernetes?</a> and go through their <a href="https://kubernetes.io/docs/tutorials/kubernetes-basics/" data-href="https://kubernetes.io/docs/tutorials/kubernetes-basics/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">interactive lessons</a>. It won’t take long, I promise.</p><p name="efc6" id="efc6" class="graf graf--p graf-after--p">There are several ways to install a Kubernetes cluster:</p><ul class="postList"><li name="2026" id="2026" class="graf graf--li graf-after--p">a local Docker-based solution using <a href="https://github.com/kubernetes/minikube" data-href="https://github.com/kubernetes/minikube" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Minikube</a></li><li name="4cee" id="4cee" class="graf graf--li graf-after--li">hosted solutions using a Web UI or CLI (e.g. GCE)</li><li name="5da4" id="5da4" class="graf graf--li graf-after--li">turn-key cloud solutions (e.g. AWS using <a href="https://github.com/kubernetes/kops/blob/master/docs/aws.md" data-href="https://github.com/kubernetes/kops/blob/master/docs/aws.md" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Kubernetes Operations</a>; AWS, Azure, GCE or bare metal using <a href="https://kubernetes.io/docs/getting-started-guides/kargo/" data-href="https://kubernetes.io/docs/getting-started-guides/kargo/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Kargo</a>)</li><li name="d0b5" id="d0b5" class="graf graf--li graf-after--li">custom solutions (e.g. Linux machines using <a href="https://kubernetes.io/docs/getting-started-guides/kubeadm/" data-href="https://kubernetes.io/docs/getting-started-guides/kubeadm/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">kubeadm</a>)</li></ul><p name="69a4" id="69a4" class="graf graf--p graf-after--li">If you just want to play with your application, choose a local installation with Minikube. If you want to run it in the cloud or on bare metal, refer to <a href="https://kubernetes.io/docs/getting-started-guides" data-href="https://kubernetes.io/docs/getting-started-guides" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Picking the Right Solution</a>, taking into account the cost, safety, reliability, and configuration options of those solutions.</p><p name="fb44" id="fb44" class="graf graf--p graf-after--p">Further, we will assume that you have a standard 64-bit Linux desktop with <a href="https://www.virtualbox.org/wiki/Downloads" data-href="https://www.virtualbox.org/wiki/Downloads" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">VirtualBox</a> or <a href="http://www.linux-kvm.org/" data-href="http://www.linux-kvm.org/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">KVM</a> installed.</p><figure name="cd0a" id="cd0a" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/eeee46037f96968cd0add7ee23eea26e.js"></script></figure><p name="55e8" id="55e8" class="graf graf--p graf-after--figure">For Windows or OS X, please check out <a href="https://kubernetes.io/docs/tasks/kubectl/install/" data-href="https://kubernetes.io/docs/tasks/kubectl/install/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Installing and Setting Up kubectl</a> guide.</p><figure name="aec4" id="aec4" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/e1acb74ea48b350f75fae8907c1ee88e.js"></script></figure><p name="45c6" id="45c6" class="graf graf--p graf-after--figure">For Windows or OS X, please check out <a href="https://github.com/kubernetes/minikube/releases" data-href="https://github.com/kubernetes/minikube/releases" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Releases</a> page.</p><figure name="55b5" id="55b5" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/994d907826b807422a72fe7a1b8807d3.js"></script></figure><ol class="postList"><li name="6a5f" id="6a5f" class="graf graf--li graf-after--figure">Downloading a configuration template for our future cluster</li></ol><figure name="acce" id="acce" class="graf graf--figure graf--iframe graf-after--li"><script src="https://gist.github.com/1d0c8d9758d6c9424e0f000fe30d78d8.js"></script></figure><p name="356e" id="356e" class="graf graf--p graf-after--figure">Open it in the editor of your choice:</p><pre name="7f4c" id="7f4c" class="graf graf--pre graf-after--p">$EDITOR app.yaml</pre><p name="a11b" id="a11b" class="graf graf--p graf-after--pre"><a href="https://github.com/tendermint/basecoin" data-href="https://github.com/tendermint/basecoin" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">https://github.com/tendermint/basecoin</a> will help us create our own currency, extensible with plugins. Writing plugins is out of scope of this article, but you can read about it <a href="https://github.com/tendermint/basecoin/blob/master/docs/guide/basecoin-plugins.md" data-href="https://github.com/tendermint/basecoin/blob/master/docs/guide/basecoin-plugins.md" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">here</a>.</p><p name="fa7b" id="fa7b" class="graf graf--p graf-after--p">Kubernetes DSL (Domain Specific Language) can be difficult for the beginner to grasp. Fortunately, we will need to change only a small piece of code.</p><p name="36f9" id="36f9" class="graf graf--p graf-after--p">The most important thing is the application’s genesis.json file. It defines the initial distribution of assets. We have 4 nodes by default (<code class="markup--code markup--p-code">replicas: 4</code>in StatefulSet). Generally, it is a good idea to split assets evenly between them and have some large number for everyone.</p><p name="cba2" id="cba2" class="graf graf--p graf-after--p">Let’s change denom to “MyAwesomeCoin”. You are welcome to pick any other name you like.</p><figure name="51ac" id="51ac" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/68b04b6d4f41bb7fb1479f383cee9d03.js"></script></figure><p name="dec7" id="dec7" class="graf graf--p graf-after--figure">Now we are ready to launch our cryptocurrency:</p><figure name="b04a" id="b04a" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/4764e4c9cd53a925c22da372104b1030.js"></script></figure><p name="e167" id="e167" class="graf graf--p graf-after--figure">Wait until all of the nodes are running:</p><figure name="dac5" id="dac5" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/9f4bb852c6f5769b40ee3b38855ef10d.js"></script></figure><p name="9340" id="9340" class="graf graf--p graf-after--figure">Let’s check the first account:</p><figure name="6974" id="6974" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/d2f6fb2bfdd4fbf371995b75974698bf.js"></script></figure><p name="66a6" id="66a6" class="graf graf--p graf-after--figure">Great! Let’s try to send a transaction from the first to the second account:</p><figure name="14f6" id="14f6" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/9adffe1f91de50b626323f5882ce2378.js"></script></figure><p name="6bbf" id="6bbf" class="graf graf--p graf-after--figure">Checking the first account’s balance we should see 5 coins making their way into the second account:</p><figure name="3bab" id="3bab" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/17ed07a2c3cd503061e7e39e3a4a2756.js"></script></figure><p name="4127" id="4127" class="graf graf--p graf-after--figure">As you can see, it was fairly simple to launch a new cryptocurrency in a Kubernetes cluster. Moreover, with Kubernetes you can add new nodes (pods) with a single command. And using <a href="https://kubernetes.io/docs/concepts/cluster-administration/federation/" data-href="https://kubernetes.io/docs/concepts/cluster-administration/federation/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">federation</a>, you can be sure that your currency will stay alive even after loss of the entire cluster!</p><p name="2ed4" id="2ed4" class="graf graf--p graf-after--p">Clean up:</p><figure name="a72c" id="a72c" class="graf graf--figure graf--iframe graf-after--p graf--trailing"><script src="https://gist.github.com/af3adc3209b48afa9bdaec44af4e460f.js"></script></figure></div></div></section><section name="2f67" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="0df3" id="0df3" class="graf graf--p graf--leading graf--trailing"><em class="markup--em markup--p-em">Originally published at </em><a href="https://gist.github.com/04a4bac8e25043da221ec6a59d77a0bb" data-href="https://gist.github.com/04a4bac8e25043da221ec6a59d77a0bb" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><em class="markup--em markup--p-em">gist.github.com</em></a><em class="markup--em markup--p-em">.</em></p></div></div></section>
</section>
<footer><p class="p-tags">Tagged in <a href="https://medium.com/tag/kubernetes" class="p-tag">Kubernetes</a>, <a href="https://medium.com/tag/tendermint" class="p-tag">Tendermint</a>, <a href="https://medium.com/tag/cryptocurrency" class="p-tag">Cryptocurrency</a>, <a href="https://medium.com/tag/mintnet" class="p-tag">Mintnet</a>, <a href="https://medium.com/tag/blockchain" class="p-tag">Blockchain</a></p><p>By <a href="https://medium.com/@nylira" class="p-author h-card">Peng Zhong</a> on <a href="https://medium.com/p/9ae4c703eb1c"><time class="dt-published" datetime="2017-05-31T07:00:00.000Z">May 31, 2017</time></a>.</p><p><a href="https://medium.com/@nylira/get-your-cryptocurrency-up-and-running-in-10-minutes-9ae4c703eb1c" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on April 23, 2018.</p></footer></article>

</body></html>