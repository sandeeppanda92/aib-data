<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>BFT: The Most Secure Proof-of-Stake</title><meta name="description" content="By Jae Kwon"><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">BFT: The Most Secure Proof-of-Stake</h1>
</header>
<section data-field="subtitle" class="p-summary">
By Jae Kwon
</section>
<section data-field="body" class="e-content">
<section name="65ee" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="82d1" id="82d1" class="graf graf--h3 graf--leading graf--title">BFT: The Most Secure Proof-of-Stake</h3><p name="dc8c" id="dc8c" class="graf graf--p graf-after--h3"><em class="markup--em markup--p-em">By </em><a href="https://medium.com/@jaekwon" data-href="https://medium.com/@jaekwon" class="markup--anchor markup--p-anchor" target="_blank"><em class="markup--em markup--p-em">Jae Kwon</em></a></p><p name="fdb1" id="fdb1" class="graf graf--p graf-after--p">Bitcoin brought the world’s attention to the blockchain. But alas, the Bitcoin version of blockchain isn’t sufficient for the world’s blockchain needs. That is because Bitcoin’s proof of work (PoW) consensus <a href="http://motherboard.vice.com/read/bitcoin-could-consume-as-much-electricity-as-denmark-by-2020" data-href="http://motherboard.vice.com/read/bitcoin-could-consume-as-much-electricity-as-denmark-by-2020" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">requires an enormous amounts of energy</a>. In addition, transactions are painstakingly slow, taking an hour or longer to commit. And because PoW miners have little incentive to be loyal to one chain or other, upgrades are difficult to coordinate.</p><p name="0141" id="0141" class="graf graf--p graf-after--p">We need an approach to manage blockchains securely that does not impose a huge energy cost on our planet. That approach is Byzantine fault-tolerance (BFT)-based <a href="https://bitcointalk.org/index.php?topic=27787.0" data-href="https://bitcointalk.org/index.php?topic=27787.0" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">proof-of-stake</a> (PoS). We call it BFT-PoS.</p><p name="d2a2" id="d2a2" class="graf graf--p graf-after--p">Before I delve into the merits of BFT-PoS, let me first address the concept of Byzantine faults without going into confusing detail about <a href="http://pages.cs.wisc.edu/%7Esschang/OS-Qual/reliability/byzantine.htm" data-href="http://pages.cs.wisc.edu/%7Esschang/OS-Qual/reliability/byzantine.htm" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Lamport’s General and his armies</a>.</p><p name="9124" id="9124" class="graf graf--p graf-after--p">In a distributed system, where data is replicated across hundreds or thousands of nodes, there needs to be some type of fault-tolerance or consensus algorithm, for the simple fact that computers break down or go offline from time to time. So if a portion of those nodes fail, the system as a whole still needs to reach a consensus.</p><p name="437a" id="437a" class="graf graf--p graf-after--p">Standard fault-tolerant consensus algorithms like <a href="https://raft.github.io/raft.pdf" data-href="https://raft.github.io/raft.pdf" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Raft</a> and <a href="https://en.wikipedia.org/wiki/Paxos_%28computer_science%29" data-href="https://en.wikipedia.org/wiki/Paxos_(computer_science)" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Paxos</a> assume that when a node fails, it simply stops working and doesn’t send back a reply. Google, Facebook, and some existing database products already use this family of consensus algorithms within their firewalls to ensure that services remain available despite faulty computers.</p><p name="7b9b" id="7b9b" class="graf graf--p graf-after--p">But these algorithms aren’t suitable for public blockchains, because there is no firewall in a public blockchain. Anyone with mining power (in PoW) or staking tokens (in PoS) can participate, or even try to sabotage the network. To reach consensus on a public blockchain, we need Byzantine fault-tolerance. In a Byzantine fault, the faulty node can behave in a completely arbitrary manner. Nodes can even collude to try and maximize the damage they cause.</p><p name="35df" id="35df" class="graf graf--p graf-after--p">So essentially, the purpose of a BFT consensus algorithm is to establish trust between otherwise unrelated parties over an untrusted network like the Internet.</p><p name="c24c" id="c24c" class="graf graf--p graf-after--p">BFT is nothing new. The concept was first introduced in an academic paper by <a href="http://research.microsoft.com/en-us/um/people/lamport/pubs/byz.pdf" data-href="http://research.microsoft.com/en-us/um/people/lamport/pubs/byz.pdf" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Lamport, Shostak, and Pease in 1982</a>. But Lamport et al only demonstrated the theoretical feasibility of the algorithm in a synchronous environment, where all the messages always arrive on time.</p><p name="df8b" id="df8b" class="graf graf--p graf-after--p">But in the real world, you can’t really trust the Internet to deliver anything on time. So in 1988, <a href="http://groups.csail.mit.edu/tds/papers/Lynch/jacm88.pdf" data-href="http://groups.csail.mit.edu/tds/papers/Lynch/jacm88.pdf" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Dwork, Lynch, and Stockmeyer</a> (DLS) proposed an algorithm that works in mostly asynchronous environments. Later in 1999, <a href="http://pmg.csail.mit.edu/papers/osdi99.pdf" data-href="http://pmg.csail.mit.edu/papers/osdi99.pdf" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Miguel Castro and Barbara Liskov</a> proposed a practical solution for continuous BFT consensus that was, and still is today, the state-of-the-art in BFT algorithms.</p><p name="469b" id="469b" class="graf graf--p graf-after--p">But for a long time, the mainstream press ignored these seminal works. Nobody understood the importance of BFT outside academia and major institutions like IBM and DARPA, until 2009 when Bitcoin came along. Bitcoin was the first open decentralized application to provide BFT consensus on a global currency ledger, but using a completely novel solution to the Byzantine general’s problem: PoW.</p><p name="a3c2" id="a3c2" class="graf graf--p graf-after--p">In PoW, miners compete, based on who has the most processing power, to validate transactions. And for their efforts they are rewarded with transaction fees and newly minted bitcoins. This is how Bitcoin creates new currency. Bitcoin miners around the globe compete in a lottery-like system for these newly issued bitcoins, and the efficient market makes it so that the cost of the energy used by the global mining network is on the order of the block reward (plus transaction fees). Today, that turns out to be around $1M worth of electricity per day. In addition, Bitcoin mining is being commoditized by <a href="https://bitcointalk.org/index.php?topic=1072474.0" data-href="https://bitcointalk.org/index.php?topic=1072474.0" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">large data centers in places of the world where electricity is more affordable</a>, making it difficult for laymen to participate.</p><p name="843b" id="843b" class="graf graf--p graf-after--p">PoS, on the other hand, does away with the energy dependence of PoW entirely. In PoS, miners are replaced with “validators” who have a stake in the system. Validators don’t have to invest in expensive processing systems but they do have to purchase “staking tokens.” Any normal laptop will suffice to solve the algorithm.</p><p name="bef6" id="bef6" class="graf graf--p graf-after--p">Peercoin, <a href="https://bitshares.org/" data-href="https://bitshares.org/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">BitShares</a>, <a href="https://en.wikipedia.org/wiki/Nxt" data-href="https://en.wikipedia.org/wiki/Nxt" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Nxt</a>, and others already use some form of PoS, and Ethereum is planning a move to PoS in the near future. Yet, while PoS makes practical sense, many people have <a href="https://download.wpsoftware.net/bitcoin/pos.pdf" data-href="https://download.wpsoftware.net/bitcoin/pos.pdf" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">rallied against the use of PoS</a>, claiming it is impossible to secure. But that is simply not true. Using BFT, you absolutely can secure PoS. It’s just that we haven’t seen any BFT-PoS public blockchains yet.</p><p name="97eb" id="97eb" class="graf graf--p graf-after--p">While the theory may be difficult to explain or understand, the ultimate results provided by proper BFT algorithms are simple to grasp. Unlike PoW blockchains, BFT-PoS blockchains do not fork (i.e. get double-spend attacked) at all unless ⅓ or more validators coordinate such an attack. And, when 1/3 or more validators do cause a double-spend attack, we can computationally determine which validators were responsible for the attack, destroy their staking tokens and eject them from the network. It’s as if the staking tokens are virtualized PoW miners that blow up when used to attack the system. No other blockchain consensus algorithm, including PoW, can provide the level of collateralization that is possible with BFT-PoS.</p><p name="b04d" id="b04d" class="graf graf--p graf-after--p">BFT-PoS performs extremely well. Today, in global public blockchain with a few hundred validators, you can get transaction finality on the order of 3 seconds, easily — no need to wait for additional block confirmations! The theory has proven to us that these are optimal fault-tolerance thresholds for “instant-finality” blockchains. While more validators does slow down consensus, if <a href="https://www.nngroup.com/articles/law-of-bandwidth/" data-href="https://www.nngroup.com/articles/law-of-bandwidth/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Nielsen’s law</a> continues to hold, we’ll even be able to support an exponentially increasing number of validators every year with the same performance.</p><p name="4f67" id="4f67" class="graf graf--p graf-after--p">In addition, BFT-PoS will also increase the security of mobile wallets. Few of the mobile wallets in existence today take full advantage of the security offered by Bitcoin, for the simple fact that nobody is willing to wait an hour for a transaction to clear. Instead, most wallets just assume that <a href="https://www.coingecko.com/buzz/peter-todd-explains-the-problems-with-unconfirmed-bitcoin-transactions" data-href="https://www.coingecko.com/buzz/peter-todd-explains-the-problems-with-unconfirmed-bitcoin-transactions" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">the person sending the money isn’t trying to double spend it</a>. And, though we don’t have time to dive into it here, efficient mobile wallet protocols, or “light client SPV” protocols are the key to future blockchain interoperability.</p><p name="04d2" id="04d2" class="graf graf--p graf-after--p graf--trailing">While PoW worked well for Bitcoin, it’s costly, slow, and environmentally unfriendly. The best alternative out there right now is BFT-PoS. It’s an enduring, energy efficient solution that works well in asynchronous environments. And best of all, because BFT was developed by the best and the brightest in the computer science industry, it’s provably secure. You can’t do any better than that.</p></div></div></section><section name="7e3f" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="154f" id="154f" class="graf graf--p graf--leading graf--trailing"><em class="markup--em markup--p-em">Originally published at </em><a href="https://gist.github.com/79a97b74c78c4c9278097945fe2c61dd" data-href="https://gist.github.com/79a97b74c78c4c9278097945fe2c61dd" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><em class="markup--em markup--p-em">gist.github.com</em></a><em class="markup--em markup--p-em">.</em></p></div></div></section>
</section>
<footer><p class="p-tags">Tagged in <a href="https://medium.com/tag/bft" class="p-tag">Bft</a>, <a href="https://medium.com/tag/consensus" class="p-tag">Consensus</a>, <a href="https://medium.com/tag/proof-of-stake" class="p-tag">Proof Of Stake</a>, <a href="https://medium.com/tag/blockchain" class="p-tag">Blockchain</a>, <a href="https://medium.com/tag/byzantine-fault-tolerance" class="p-tag">Byzantine Fault Tolerance</a></p><p>By <a href="https://medium.com/@nylira" class="p-author h-card">Peng Zhong</a> on <a href="https://medium.com/p/9d79aceef099"><time class="dt-published" datetime="2016-11-15T08:00:00.000Z">November 15, 2016</time></a>.</p><p><a href="https://medium.com/@nylira/bft-the-most-secure-proof-of-stake-9d79aceef099" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on April 23, 2018.</p></footer></article>

</body></html>